
#include "keyboard_event.h"
#include "event.h"
//#include "../debug/includes/debug.h"


#define LSHIFT 0x29
#define RSHIFT 0x35

char keymap_azerty[]=
	{
		0x00,	0x00,	0x00,	0x00,
		'&',	'1',	0x00,	0x00,
		/*'é'*/ 0x00,	'2',	0x00,	0x00,
		'"',	'3',	0x00,	0x00,
		'\'',	'4',	0x00,	0x00,
		'(',	'5',	0x00,	0x00,
		'-',	'6',	0x00,	0x00,
		/*'è'*/ 0x00,	'7',	0x00,	0x00,
		'_',	'8',	0x00,	0x00,
		/*'ç'*/ 0x00,	'9',	0x00,	0x00,
		/*'à'*/ 0x00,	'0',	0x00,	0x00,
		')',	/*'°'*/ 0x00,	0x00,	0x00,
		'=',	'+',	0x00,	0x00, /*12*/
		0x00,	0x00,	0x00,	0x00, /* Backspace */
		0x00,	0x00,	0x00,	0x00,
		'a',	'A',	0x00,	0x00, /*15*/
		'z',	'Z',	0x00,	0x00,
		'e',	'E',	0x00,	0x00,
		'r',	'R',	0x00,	0x00,
		't',	'T',	0x00,	0x00,
		'y',	'Y',	0x00,	0x00,
		'u',	'U',	0x00,	0x00,
		'i',	'I',	0x00,	0x00,
		'o',	'O',	0x00,	0x00,
		'p',	'P',	0x00,	0x00, /*24*/
		/*'^'*/ 0x00,	/*'¨'*/ 0x00,	0x00,	0x00,
		/*'$'*/ 0x00,	/*'£'*/ 0x00,	0x00,	0x00,
		'\n',	'\n',	'\n',	'\n', /* Enter */
		0x00,	0x00,	0x00,	0x00, /* LCONTROL & RCONTROL */
		'q',	'Q',	0x00,	0x00, /*29*/
		's',	'S',	0x00,	0x00,
		'd',	'D',	0x00,	0x00,
		'f',	'F',	0x00,	0x00,
		'g',	'G',	0x00,	0x00,
		'h',	'H',	0x00,	0x00,
		'j',	'J',	0x00,	0x00,
		'k',	'K',	0x00,	0x00,
		'l',	'L',	0x00,	0x00,
		'm',	'M',	0x00,	0x00, /*38*/
		/*'ù'*/ 0x00,	'%',	0x00,	0x00,
		/*'²'*/ 0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00, /* LSHIFT */
		'*',	/*'µ'*/ 0x00,	0x00,	0x00,
		'w',	'W',	0x00,	0x00, /*43 */
		'x',	'X',	0x00,	0x00,
		'c',	'C',	0x00,	0x00,
		'v',	'V',	0x00,	0x00,
		'b',	'B',	0x00,	0x00,
		'n',	'N',	0x00,	0x00, /* 48 */
		',',	'?',	0x00,	0x00,
		'.',	'.',	0x00,	0x00,
		':',	'/',	0x00,	0x00,
		'!',	'§',	0x00,	0x00, /* RSHIFT */
		'/',	0x00,	0x00,	0x00,
		'*',	0x00,	0x00,	0x00, /* 54 */
		0x00,	0x00,	0x00,	0x00, /* LALT & RALTGR */
		' ',	' ',	' ',	' ', /* Space */
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00, /* F1 */
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00, /* F10 */
		0x00,	0x00,	0x00,	0x00, /* Verr. num */
		0x00,	0x00,	0x00,	0x00,
		'7',	0x00,	0x00,	0x00, /* 70 */
		'8',	0x00,	0x00,	0x00,
		'9',	0x00,	0x00,	0x00,
		'-',	0x00,	0x00,	0x00,
		'4',	0x00,	0x00,	0x00,
		'5',	0x00,	0x00,	0x00,
		'6',	0x00,	0x00,	0x00,
		'+',	0x00,	0x00,	0x00,
		'1',	0x00,	0x00,	0x00,
		'2',	0x00,	0x00,	0x00,
		'3',	0x00,	0x00,	0x00, /*80*/
		'0',	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00, /* Del */
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00,
		0x00,	0x00,	0x00,	0x00, /* F11 */
		0x00,	0x00,	0x00,	0x00 /* F12 */
	};

#include "debug.h"

KeyboardEvent::KeyboardEvent(KeyState state, u8 pcode) : Event(Event::KEYBOARD_EVENT)
{
	keyEvent.keyState = state;
	keyEvent.code = pcode;
}


u8 KeyboardEvent::getLetter() const
{
	//debug((u32)keymap_azerty);
	return keymap_azerty[keyEvent.code*4];
}


